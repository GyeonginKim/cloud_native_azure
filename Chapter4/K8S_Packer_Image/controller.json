{
  "builders": [{
    "type": "azure-arm",

    "client_id": " ",
    "client_secret": " ",
    "tenant_id": " ",
    "subscription_id": " ",

    "managed_image_resource_group_name": "K8Scluster",
    "managed_image_name": "k8s_controller",

    "os_type": "Linux",
    "image_publisher": "Canonical",
    "image_offer": "UbuntuServer",
    "image_sku": "16.04-LTS",

    "azure_tags": {
        "env": "dev",
        "type-of-cluster": "k8s-experments"
    },

    "location": "eastus2",
    "vm_size": "Standard_D1_v2"
  }],
  "provisioners": [
    {
    "execute_command": "sudo mkdir -p /etc/kubernetes/config'",
    "inline": [
      "wget https://github.com/etcd-io/etcd/releases/download/v3.4.10/etcd-v3.4.10-linux-amd64.tar.gz",
      "tar -xvf etcd-v3.4.10-linux-amd64.tar.gz",
      "sudo mv etcd-v3.4.10-linux-amd64/etcd* /usr/local/bin/",
      "sudo mkdir -p /etc/etcd /var/lib/etcd",
      "sudo chmod 700 /var/lib/etcd"
      "COPY HERE###############################"
    ],
    "inline_shebang": "/bin/sh -x",
    "type": "shell"
  }
]
}
